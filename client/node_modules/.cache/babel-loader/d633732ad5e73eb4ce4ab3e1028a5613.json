{"ast":null,"code":"import ShopActionsTypes from\"./shop.types\";import{firestore,convertCollectionsSnapshotToMap}from\"../../firebase/firebase.utils\";export var fetchCollectionsStart=function fetchCollectionsStart(collectionsMap){return{type:ShopActionsTypes.FETCH_COLLECTIONS_START};};export var fetchColletionsSucces=function fetchColletionsSucces(collectionsMap){return{type:ShopActionsTypes.FETCH_COLLECTIONS_SUCCES,payload:collectionsMap};};export var fetchColectionsFailure=function fetchColectionsFailure(error){return{type:ShopActionsTypes.FETCH_COLLECTIONS_FAILURE,payload:error};};export var fetchCollectionsStartAsync=function fetchCollectionsStartAsync(){return function(dispatch){var collectionRef=firestore.collection(\"collections\");dispatch(fetchCollectionsStart());collectionRef.get().then(function(snap){var collectionsMap=convertCollectionsSnapshotToMap(snap);dispatch(fetchColletionsSucces(collectionsMap));}).catch(function(error){return dispatch(fetchColectionsFailure(error.message));});};};","map":{"version":3,"sources":["/home/valentin/dev/udemy-react/e-lamp/client/src/redux/shop/shop.actions.js"],"names":["ShopActionsTypes","firestore","convertCollectionsSnapshotToMap","fetchCollectionsStart","collectionsMap","type","FETCH_COLLECTIONS_START","fetchColletionsSucces","FETCH_COLLECTIONS_SUCCES","payload","fetchColectionsFailure","error","FETCH_COLLECTIONS_FAILURE","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","snap","catch","message"],"mappings":"AAAA,MAAOA,CAAAA,gBAAP,KAA6B,cAA7B,CACA,OACEC,SADF,CAEEC,+BAFF,KAGO,+BAHP,CAIA,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,cAAD,QAAqB,CACxDC,IAAI,CAAEL,gBAAgB,CAACM,uBADiC,CAArB,EAA9B,CAGP,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACH,cAAD,QAAqB,CACxDC,IAAI,CAAEL,gBAAgB,CAACQ,wBADiC,CAExDC,OAAO,CAAEL,cAF+C,CAArB,EAA9B,CAIP,MAAO,IAAMM,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,KAAD,QAAY,CAChDN,IAAI,CAAEL,gBAAgB,CAACY,yBADyB,CAEhDH,OAAO,CAAEE,KAFuC,CAAZ,EAA/B,CAIP,MAAO,IAAME,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,EAAM,CAC9C,MAAO,UAACC,QAAD,CAAc,CACnB,GAAMC,CAAAA,aAAa,CAAGd,SAAS,CAACe,UAAV,CAAqB,aAArB,CAAtB,CACAF,QAAQ,CAACX,qBAAqB,EAAtB,CAAR,CACAY,aAAa,CACVE,GADH,GAEGC,IAFH,CAEQ,SAACC,IAAD,CAAU,CACd,GAAMf,CAAAA,cAAc,CAAGF,+BAA+B,CAACiB,IAAD,CAAtD,CACAL,QAAQ,CAACP,qBAAqB,CAACH,cAAD,CAAtB,CAAR,CACD,CALH,EAMGgB,KANH,CAMS,SAACT,KAAD,QAAWG,CAAAA,QAAQ,CAACJ,sBAAsB,CAACC,KAAK,CAACU,OAAP,CAAvB,CAAnB,EANT,EAOD,CAVD,CAWD,CAZM","sourcesContent":["import ShopActionsTypes from \"./shop.types\";\nimport {\n  firestore,\n  convertCollectionsSnapshotToMap,\n} from \"../../firebase/firebase.utils\";\nexport const fetchCollectionsStart = (collectionsMap) => ({\n  type: ShopActionsTypes.FETCH_COLLECTIONS_START,\n});\nexport const fetchColletionsSucces = (collectionsMap) => ({\n  type: ShopActionsTypes.FETCH_COLLECTIONS_SUCCES,\n  payload: collectionsMap,\n});\nexport const fetchColectionsFailure = (error) => ({\n  type: ShopActionsTypes.FETCH_COLLECTIONS_FAILURE,\n  payload: error,\n});\nexport const fetchCollectionsStartAsync = () => {\n  return (dispatch) => {\n    const collectionRef = firestore.collection(\"collections\");\n    dispatch(fetchCollectionsStart());\n    collectionRef\n      .get()\n      .then((snap) => {\n        const collectionsMap = convertCollectionsSnapshotToMap(snap);\n        dispatch(fetchColletionsSucces(collectionsMap));\n      })\n      .catch((error) => dispatch(fetchColectionsFailure(error.message)));\n  };\n};\n"]},"metadata":{},"sourceType":"module"}